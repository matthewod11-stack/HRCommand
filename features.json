{
  "$schema": "./features.schema.json",
  "_meta": {
    "description": "Feature tracking for HR Command Center. Status: not-started | in-progress | pass | fail | blocked",
    "lastUpdated": "2026-01-13",
    "project": "HR Command Center",
    "totalFeatures": 46,
    "passing": 39,
    "failing": 0,
    "inProgress": 0
  },
  "phase-0": {
    "pre-flight-validation": {
      "status": "pass",
      "notes": "Rust 1.92, Node 22.21, Tauri CLI 2.9.6 verified"
    }
  },
  "phase-1": {
    "project-scaffolding": {
      "status": "pass",
      "notes": "Tauri 2.9.5 + React 18 + Vite 6 + Tailwind 3.x"
    },
    "sqlite-setup": {
      "status": "pass",
      "notes": "6 tables, 3 triggers, 7 indexes created"
    },
    "basic-chat-ui": {
      "status": "pass",
      "notes": "All components complete: AppShell, ChatInput, MessageBubble, MessageList, TypingIndicator"
    },
    "claude-api-integration": {
      "status": "pass",
      "notes": "All tasks complete (1.4.1-1.4.6). Streaming responses working."
    },
    "network-detection": {
      "status": "pass",
      "notes": "Hybrid detection (browser events + API check), amber indicator in header"
    }
  },
  "phase-2": {
    "employee-data": {
      "status": "pass",
      "notes": "2.1.1-2.1.21 complete: Schema, CRUD, file parser, import UIs, test data generation + import. 100 employees, 237 ratings, 237 reviews, 221 eNPS imported with verified FK integrity."
    },
    "company-profile": {
      "status": "pass",
      "notes": "2.2.1-2.2.4 complete: company.rs CRUD, CompanySetup component, gated onboarding flow. State = HQ/incorporation (single), employee work states tracked separately."
    },
    "context-builder": {
      "status": "pass",
      "notes": "2.3.1-2.3.6 + 2.7.0-2.7.5 complete: context.rs, Alex persona, employee context, user_name, token budget, selected employee prioritization, OrgAggregates, classify_query(), query-adaptive retrieval, system prompt with aggregates. 63 context tests passing."
    },
    "cross-conversation-memory": {
      "status": "pass",
      "notes": "2.4.1-2.4.4 complete: memory.rs (8 tests), useConversationSummary hook, Tauri commands, Cmd+N shortcut. Summaries generated on new conversation."
    },
    "conversation-management": {
      "status": "pass",
      "notes": "Complete: Backend CRUD (7 commands, 7 tests), ConversationContext (auto-save, auto-title), tabbed sidebar UI (ConversationSidebar, TabSwitcher, ConversationCard, ConversationSearch)."
    },
    "stickiness-features": {
      "status": "pass",
      "notes": "2.6.1-2.6.3 complete: PromptSuggestions component, usePromptSuggestions hook, contextual empty state guidance. Three context modes: empty (setup), general (team), employee-selected (personalized)."
    }
  },
  "phase-3": {
    "pii-scanner": {
      "status": "pass",
      "notes": "3.1.1-3.1.5 complete: pii.rs with SSN, credit card (Visa/MC/Amex/Discover), bank account detection. Luhn validation for CC, context keywords for bank accounts. 31 unit tests passing."
    },
    "auto-redaction": {
      "status": "pass",
      "notes": "3.2.1-3.2.3 complete: scan_pii Tauri command, frontend integration in ConversationContext.sendMessage(), user sees redacted text in message bubble"
    },
    "pii-notification-ui": {
      "status": "pass",
      "notes": "3.3.1-3.3.3 complete: PIINotification component, amber slide-in banner, 3s auto-dismiss, X to close early"
    },
    "audit-logging": {
      "status": "pass",
      "notes": "3.4.1-3.4.4 complete: audit.rs (11 tests), 5 Tauri commands, TS wrappers, frontend integration. Logs redacted requests, responses, employee IDs. CSV export support."
    },
    "error-handling": {
      "status": "pass",
      "notes": "3.5.1-3.5.4 complete: ErrorMessage component, error categorization (6 types), Retry/Copy actions, offline mode in ChatInput. error-utils.ts for categorization."
    }
  },
  "phase-4": {
    "onboarding-flow": {
      "status": "pass",
      "notes": "7-step wizard complete: Welcome, API Key, Company, Employees (auto-loads sample), Disclaimer, Telemetry, First Prompt. 11 files, ~1,100 LOC."
    },
    "settings-panel": {
      "status": "pass",
      "notes": "Modal with API key, company profile, data path display, telemetry toggle. ~200 LOC, 6 files. Fixed onboarding context bug."
    },
    "data-export-import": {
      "status": "pass",
      "notes": "AES-256-GCM encrypted backups with Argon2 key derivation. Full backup of all 9 tables. ~800 LOC Rust, ~280 LOC React. 6 unit tests."
    },
    "monday-digest": {
      "status": "pass",
      "notes": "4.4.1-4.4.4 complete: MondayDigest component, useMondayDigest hook, find_recent_hires query, get_digest_data command. Shows anniversaries (7 days) and new hires (90 days) on first launch of week. ~330 LOC across 8 files."
    },
    "distribution": {
      "status": "not-started",
      "notes": "Code signing, notarization, auto-update"
    }
  },
  "phase-v2": {
    "api-key-setup-guide": {
      "status": "pass",
      "notes": "V2.1.1a-e complete: Plain-language explainer, step-by-step guide, contextual error hints (OpenAI vs Anthropic detection), cost estimator, troubleshooting FAQ. 3 files, ~280 new LOC."
    },
    "command-palette": {
      "status": "pass",
      "notes": "V2.1.2a-d complete: CommandPalette with Fuse.js fuzzy search, useCommandPalette hook, shortcuts (⌘K, ⌘/, ⌘E, ⌘,), keyboard hints in header. 2 new files, ~405 LOC."
    },
    "persona-switcher": {
      "status": "pass",
      "notes": "V2.1.3a-d complete: 5 personas (Alex, Jordan, Sam, Morgan, Taylor), PersonaSelector component, Settings integration, immediate effect. ~270 LOC across 6 files, 4 new tests."
    },
    "answer-verification": {
      "status": "pass",
      "notes": "V2.1.4a-d complete: Verify numeric claims against SQL ground truth, VerificationBadge component with expandable details + Show SQL, tolerance matching (counts exact, ratings ±0.1, percentages ±1%). ~500 LOC across 10 files, 11 new tests."
    },
    "structured-data-extraction": {
      "status": "pass",
      "notes": "V2.2.1 complete (all 7 subtasks): Schema + highlights.rs + extraction pipeline + context builder integration + auto-trigger on import. Fire-and-forget async extraction on review create/import."
    },
    "query-adaptive-retrieval-v2": {
      "status": "pass",
      "notes": "V2.2.2 complete: Dynamic excerpting, theme-based retrieval, token budgets, retrieval metrics. Fixed name detection for HR nouns, SQL column search, and dept substring matching (word boundary fix). 235 reviews extracted, 87 summaries generated."
    },
    "critical-accessibility-fixes": {
      "status": "pass",
      "notes": "V2.2.5a complete: Color contrast upgraded (stone-400 → stone-500), touch targets increased to 40px minimum, global focus-visible ring system, prefers-reduced-motion support. 26 component files updated."
    },
    "design-token-completion": {
      "status": "pass",
      "notes": "V2.2.5b complete: Primary color scale (200-900), custom easing curves (smooth-out, smooth-in, smooth-in-out), shadow scale (lg, xl, 2xl), letter-spacing tokens (tight, wide, wider)."
    },
    "component-consistency": {
      "status": "pass",
      "notes": "V2.2.5c complete: UI primitives (/components/ui/) with Button, Badge, Card, Avatar. EmployeeDetail decomposed (619→192 lines). EmployeePanel migrated to use Avatar. ~640 LOC new, ~380 LOC removed."
    },
    "motion-refinements": {
      "status": "pass",
      "notes": "V2.2.5d complete: Replaced button scale transforms with shadow/brightness for smoother hover effects. Slowed loading spinners from 1s to 1.5s (animate-spin-slow). 16 files updated. OfflineIndicator kept fast for quick status checks."
    },
    "analytics-panel": {
      "status": "pass",
      "notes": "V2.3.2a-f complete: Analytics request schema, NL→SQL templates, Recharts rendering (bar/pie), filter captions, fallback handling. Fixed PascalCase→snake_case mismatch in context.rs. ~1,100 LOC across 10 files."
    },
    "insight-canvas-foundation": {
      "status": "pass",
      "notes": "V2.3.2g complete: Database schema (3 tables), insight_canvas.rs CRUD (~540 LOC), TypeScript types, 13 Tauri commands. Foundation for persistent chart storage."
    },
    "pin-to-canvas": {
      "status": "pass",
      "notes": "V2.3.2h complete: Pin button in AnalyticsChart, BoardSelectorModal for selecting/creating boards, analyticsRequest stored on Message, pinChart() integration. ~210 LOC new."
    },
    "named-boards-ui": {
      "status": "pass",
      "notes": "V2.3.2i complete: Boards sidebar tab, InsightBoardPanel (list/create/delete), InsightBoardView modal (chart grid, rename, unpin). ~450 LOC across 4 new files."
    }
  },
  "phase-5": {
    "license-system": {
      "status": "not-started",
      "notes": "One-time online validation"
    },
    "payment-integration": {
      "status": "not-started",
      "notes": "Stripe, $99, key generation"
    },
    "landing-page": {
      "status": "not-started",
      "notes": "hrcommandcenter.com updates"
    },
    "beta-distribution": {
      "status": "not-started",
      "notes": "5-10 users, feedback collection"
    }
  },
  "verification": {
    "pause-0a": {
      "status": "not-started",
      "notes": "Tooling verified"
    },
    "pause-1a": {
      "status": "pass",
      "notes": "Phase 1 complete: App runs, API key works, streaming chat, network detection"
    },
    "pause-2a": {
      "status": "pass",
      "notes": "Phase 2 complete: Context injection, query-adaptive retrieval, employee disambiguation, search debouncing all verified"
    },
    "pause-3a": {
      "status": "pass",
      "notes": "Phase 3 verified: PII redaction, notification, audit logging, error handling, offline mode all working"
    },
    "pause-4a": {
      "status": "pass",
      "notes": "Phase 4A verified: Onboarding flow + Settings panel both complete and tested"
    },
    "pause-5a": {
      "status": "not-started",
      "notes": "Launch ready"
    }
  }
}
